<div class="row">
    <div class="col-12 card">
        <div class="card-body">

            <div class="d-flex">
                <div class="d-flex justify-content-center align-items-center">
                    <img src="../../../../assets/img/cwb_logo.png" width="175" alt="cwb.logo">
                </div>
            
                <div class="container-leyenda">
                    <div class="d-flex flex-column container-titulo align-items-center justify-content-center">
                        <h5 class="lead">International Data Center</h5>
                        <h5 class="lead">Control de Registro</h5>
                        <h5 class="lead">Matriz de comunicación</h5>
                    </div>
                    <div class="container-descripcion text-secondary text-center">
                        <p>Sección de matriz de comunicación. Muestra el listado de personal de la empresa <b>{{nombreEmpresa}}</b> y los privilegios asociados para solicitar
                            Editar, o eliminar accesos, o solicitar manos remotas.</p>
                    </div>
                    <div class="d-flex align-items-center justify-content-end">
                        <!-- <div class="form-group col-md-9">
                            <a [hidden]="proyecto == null" class="btn btn-warning" [routerLink]="['/camdc',proyecto]">Actualizar Matriz Actual de {{nombreEmpresa}}</a>
                        </div> -->
                        <!-- ESCOGER VERSIÓN DE LA MATRIZ -->
                        <div class="form-group col-md-1.5">
                            <h6 class="text-purple"><b>Fecha matriz:</b></h6>
                        </div>
                        <div class="form-group col-md-3">
                            <select class="form-control form-control-sm" [disabled]="!usuarios || usuarios < 1" id="version" (change)="getVersion($event)">
                                <option *ngFor="let version of versionesMatriz" value="{{version.version}}">{{version.version | date:'yyyy/MM/dd'}}</option>
                            </select>
                        </div>
            
                    </div>
                </div>
            </div>

            <div class="d-flex flex-column">
                <div class="text-center cwb-background text-light p-1">
                    Datos del solicitante
                </div>
                <div class="d-flex">
                    <div class="col-2 border text-secondary text-center"><b>Compañía</b></div>
                    <div class="col-10 border"><p class="m-0 text-secondary">{{nombreEmpresa}} XXXXX</p></div>
                </div>
            </div>

            <h6 class="text-secondary mt-2">Detalle del personal:</h6>
            <!-- <div class=""> -->
                <table class="tabla-detalles">
                    <tr class="cwb-background text-light">
                      <th class="p-1">Nombre</th>
                      <th class="p-1">Cargo</th>
                      <th class="p-1">Teléfono</th>
                      <th class="p-1">Celular</th>
                      <th class="p-1">Email</th>
                    </tr>
                    <tr *ngFor="let usuario of usuarios" class="tabla-detalles-tr">
                      <td class="tabla-detalles-td">{{usuario.nombre}} {{usuario.apellido}}</td>
                      <td class="tabla-detalles-td">{{usuario.cargo}}</td>
                      <td class="tabla-detalles-td">{{usuario.telefono}}</td>
                      <td class="tabla-detalles-td">{{usuario.celular}}</td>
                      <td class="tabla-detalles-td">{{usuario.correo}}</td>
                    </tr>
                    
                  </table>
            <!-- </div> -->

            <!-- <div class="container-enlaces">
                <hr>
                <a class="agregar-link" *ngIf="editar_matriz" [routerLink]="['/matrizadd']">Agregar personal <i class="fas fa-plus"></i></a>
            </div> -->

            <div class="container-tabla-matriz">
                <table>
                    <thead class="text-secondary">
                        <tr>
                            <th rowspan="2">Nombre</th>
                            <th colspan="3">Solicitud de permiso</th>
                            <th rowspan="2">Manos remotas *</th>
                            <th colspan="3">Notificación de alertas</th>
                            <th rowspan="2">Edit. Matriz</th>
                            <th rowspan="2">Fecha Matriz</th>
                        </tr>
                        <tr>
                            <th>Solicitar</th>
                            <th>Actualizar</th>
                            <th>Eliminar</th>
                
                            <th>Baja</th>
                            <th>Media</th>
                            <th>Alta</th>
                        </tr>
                        <!-- <tr>
                            <th>Tabla Avanzada 2</th>
                            <th>Cabecera Múltiples Columnas</th>
                        </tr> -->
                    </thead>
                    <!-- <tfoot>
                        <tr>
                            <td colspan="4">Pie de tabla.</td>
                        </tr>
                    </tfoot> -->
                    <tbody>
                        <tr *ngFor="let usuario of usuarios">
                            <th class="table-names">{{usuario.nombre}} {{usuario.apellido}} <a class="edit-link"  [routerLink]="['/editar',usuario.version,usuario.idproyecto,usuario.idusuario]">Editar <i class="far fa-edit"></i></a></th>
                            <td>
                                <input *ngIf="usuario.solicitar_acceso" type="checkbox" value="{{usuario.solicitar_acceso}}" checked disabled>
                                <input *ngIf="!usuario.solicitar_acceso" type="checkbox" value="{{usuario.solicitar_acceso}}" disabled>
                            </td>
                            <td>
                                <input *ngIf="usuario.actualizar_acceso" type="checkbox" value="{{usuario.actualizar_acceso}}" checked disabled>
                                <input *ngIf="!usuario.actualizar_acceso" type="checkbox" value="{{usuario.actualizar_acceso}}" disabled>
                            </td>
                            <td>
                                <input *ngIf="usuario.eliminar_acceso" type="checkbox" value="{{usuario.eliminar_acceso}}" checked disabled>
                                <input *ngIf="!usuario.eliminar_acceso" type="checkbox" value="{{usuario.eliminar_acceso}}" disabled>
                            </td>
                            <td>
                                <input *ngIf="usuario.manos_remotas" type="checkbox" value="{{usuario.manos_remotas}}" checked disabled>
                                <input *ngIf="!usuario.manos_remotas" type="checkbox" value="{{usuario.manos_remotas}}" disabled>
                            </td>
                            <td>
                                <input *ngIf="usuario.alertas_baja" type="checkbox" value="{{usuario.alertas_baja}}" checked disabled>
                                <input *ngIf="!usuario.alertas_baja" type="checkbox" value="{{usuario.alertas_baja}}" disabled>
                            </td>
                            <td>
                                <input *ngIf="usuario.alertas_media" type="checkbox" value="{{usuario.alertas_media}}" checked disabled>
                                <input *ngIf="!usuario.alertas_media" type="checkbox" value="{{usuario.alertas_media}}" disabled>
                            </td>
                            <td>
                                <input *ngIf="usuario.alertas_alta" type="checkbox" value="{{usuario.alertas_alta}}" checked disabled>
                                <input *ngIf="!usuario.alertas_alta" type="checkbox" value="{{usuario.alertas_alta}}" disabled>
                            </td>
                            <td>
                                <h5 *ngIf="usuario.editar_matriz" class="h5-editar-matriz">SI</h5>
                                <h5 *ngIf="!usuario.editar_matriz">NO</h5>
                                <!-- <input *ngIf="usuario.editar_matriz" type="checkbox" value="{{usuario.editar_matriz}}" checked disabled> -->
                                <!-- <input *ngIf="!usuario.editar_matriz" type="checkbox" value="{{usuario.editar_matriz}}" disabled> -->
                            </td>
                            <td>
                                <a class="link-version" (click)="redirect(usuario.link_formulario)">{{usuario.version | date:'yyyy/MM/dd'}}</a>
                            </td>
                        </tr>
                        
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>
